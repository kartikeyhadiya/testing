<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <p> 
        Show what you have. Feel free toshare your screen and and we canget started. Yeah sure, justgive me some time. Actually I'mcopying it to my local so thatit doesn't lag afterwards. Tillthen you can start. We can do itafter you complete. Yeah, Ididn't prepare too much sotoday's session was supposed tobe on how to run generalization.OK. I can, I mean I can walkthrough that pretty quickly Iguess. I think I wanted to focusmost of our time on well meunderstanding what you've doneso far and then having thediscussion. OK. So I have thatopen on the VM, but it's still abit laggy. So but then to I willshare my screen and show atleast what we have done so far.OK. I mean, if you feel like itwould be better if it's copiedto your machine, I can, I canpresent something for like 10 or15 minutes. OK. OK. So you canstart, I guess 1010. OK, 10 and15. Thank you. Yeah. Yeah,that'll do. OK.So as I mentioned kind of myinitial thoughts for thisparticular training were goingto focus on. So last time wetalked about how to configurethe spreadsheet and then whatbecomes important is really theprocess of.Running the models against thedata, looking at the data,figuring out what can beimproved, modifying thespreadsheet, running it againand and kind of understandingthe results that you're getting.And so I wanted to walk througha little bit about the rungeneralization tool and some ofthe things that it does and thenmaybe a little bit of my processfor how I, how I evaluate thethe results.So in the Production Mappingproduct file install underGeneralization GeneralizationModels, there's a GeneralizationTools toolbox and that's gonnahave your Run Generalizationtool. I think I talked aboutthis a little bit last time.What's really important here,sorry is.Where's your input data? Where'syour generalization rule file,the folder and the name of theoutput database that's going tobe created, and then the area ofinterest. So all of thistogether allows us to run thethe results over multiple areasof interest using a set ofgeneralization rules andproducing a number of differentoutput databases.So when we run the RunGeneralization tool, whathappens is it produces a numberof different files and foldersautomatically for you, so onthis top level.There's a a database that'screated and you, when you enterin the data, the output databasename, that's the name of thedatabase that's going to becreated and that's going to bethe database that has all thefinal generalization results.What you'll also find on thesame level as three otherdatabases, the_generalization orif you're using defense_flatGDP.Is going to be the thegeneralization schema. So if youremember, the generalizationschema is the simplified schemaof the, similar to the input,but without any domains orsubtypes or feature data sets ortopologies or any of that stuff.So this is the database that isactively being worked on whenwe're doing the processing.Then we've got a scratch wherewe're writing temporary data toand we've got the theme databasewhich gets created for eachtheme and what's operated on byeach of the theme models. Sowhat happens is you know you goto a a theme like structures,this create structure layers isgoing to use the output databaseas the input and it's going towrite ohh sorry thegeneralization data as theinput.And it's going to create thetheme features, then the othermodels in the theme are going tooperate on the theme featuredata set or theme feature themedatabase. There we go. And thenthe split layers is going totake the theme database.Take all of the updates from thetheme database and put them backinto the generalization. Sowe're going from this databaseinto this one, doing thegeneralization. When we're donewith that theme, we push it backup into the generalizationdatabase. So that's happening.And all of these databases arehere. So if it does stopsomewhere in the middle, don'texpect there to be any data inthe the output database. Expectall of the data to be in thegeneralization or the themedatabase.What also happens is if youremember on the GeneralizationRoles tab, on the Execution tab,you'll notice that there's abackup database and it tellswhere whether we're going toback up that generalizationworkspace or the themeworkspace. So what's going tohappen is after each model.Runs. We can copy either of thatgeneralization database or thetheme database and make a backupof it and put it under backupdatabases so we can see theresult after every single modelis run. And so this database isnamed by the theme and then thename of the model that's beingrun. So this is the result afterrunning the.The create Gen. Gen. databasetool, and this is the resultafter running prep data, right?And so we have the results afterevery single database or sorry,after every single model is run.So this is really useful ifyou're trying to track downwhere something went wrong. Soif you're looking at the sourcedata, you're looking at thetarget data and you're realizingthat all of these.I think there's no, no, they'rethere. Well, yeah, maybe likeyou're realizing that all ofthese hydro featuresdisappeared, right. So what youcan do is take a look at thisquery it understand that that'sa river and you can take a lookat, you know, your rules andrealize that rivers are operatedprimarily on this collapsedPolygon.Great model. So you can look atwhat the data looked likebefore. Let's actually add thatto another map. So before thatmodel add to current map, we hadthis data and you can see thatthe hydro feature is there.Now, if you take a look at theresults after collapse, you cansee that that feature is gone,right? Gone. It's there. It'sgone, right. So we would knowthat it's this particular modelthat's causing all of thesefeatures to drop out, right? Andso you can look at and exploreyour data.And your backup databases tokind of track down where theinvalid result is coming from.So then you can change yourtolerances, change your rules orwhatever you need to to makesure that that that resultisn't, you know, what you see inthe final output. The otherthing that this is useful for,actually I should go back there,you know, so if we discoverthat.The collapse is maybe collapsingtoo many features, right? And wewant to adjust the tolerance andrun the model again. One of theother things that we can do isyou want when you're running amodel.So one thing that you can do isyou can rerun all the models,right? You can run that, rungeneralization tool again and itwould start at the beginning andit would run everything againuntil it got to this model andrun it with the new tolerances.But that can be very timeconsuming, especially if youjust want to change the number alittle bit, see the result,change it again, see the result.So one thing that I do a lot,I'll find myself making a copyof the backup from before themodel that I want to run, makinga copy of it.Pasting it into that folder orany other folder and then what Ican do instead of? Yeah there itis. OK, So instead of runningusing the Run generalizationtool and running everythingagain, what I can do is comeinto the model itself. So inthat case I was changingtolerances for collapse so I cancome in and just run this modelusing.The backup database from theprevious step as my my inputtheme workspace, right? So thatdatabase that I just made a copyof has the state of the themedatabase right before I ran themodel last time. So I can startfrom that same state, use therole tolerance, use the role,the rules with the newtolerance.And then see what the output isgoing to be, right? So that'sone of the ways that you cankind of debug and change thevalues and look at all theresults. Now, this works if andonly if you're changingtolerances. If you're changingthings like any information onthe Rules tab, you're going tohave to go back to.The at a minimum, you can't justrun this particular model, youhave to at least go back to thebeginning of the theme. Thereason is that all of thisinformation from the Rules tabis being added to the featuresin that step in that create SOVlayers. So in this case you knowtaking a look at thisparticular.Feature you can see that theoperation because it'sclassified as a river, theoperation is collapsed centerline. So collapse the featurecreate the center line. If Iwant to change that and notcollapse on the center line, butcollapse based on area you wouldchange. You know varioustolerances here. So let's findour river, right? Rivers, hydro.Where's my river? No river therewe are. So right now the thevalue is collapse centerline gapexclude. So if I want to changethat and not do collapsecenterline but do, what did wecall it?Eliminate by order, so eliminateby order. Uses a size, so I cansay you know eliminateeverything smaller than thissize using the length operationand using the hydro order.So you can go through and nowthat I've changed all of this,it's going to change which modelit runs in. The thing is, thisinformation needs to get addedto my theme feature class andthat only happens as I mentionedduring the create layers. So Iwould have to start back at thecreate layers again. If I wantedto use a backup I would go tomy.Did I close that folder? Ohh nosorry I wasn't doing it throughcatalog. So I would go back toSO there's my SOE create layersso I would go and make a backupof the database from before thatmodel again so I would have theexact same start process andthen I can run through just theSOE models rather than.Running through everything. Sothese backup databases arereally, really useful.Especially when you're goingthrough making a change andwanting to run things again.Does that make sense? Yes, itdoes. Great. So then the otherthing is that there's a logfiles folder, so.If you go to that same directoryin Windows Explorer, under LogFiles, you'll see that there's abunch of logs. Now this is alsojust kind of useful informationfor a couple of differentreasons. Each of these textfiles that has the name of thetheme is going to have everysingle geoprocessing messagewritten. So if I'm running this.Maybe not through a pro orhowever, I'm running it and Iwant to go back and see any ofthe logs, any of the errors, anyof the messages that are comingup. All of those are recorded tothese log files. So you can seethis is the model, you can seeit started at this time, itended at that time, right? Soall of this information iswritten to these these textfiles.So again, if something goeswrong in the middle of one of mymodels, I can come and look atthe log file and read throughthe messages and just see ifit's going down the path that Iexpect or if it's using thetolerances that I'm expecting.So all of this information ishelpful again for debuggingwhat's going on. We also, atthree different points, createfeature count logs, so.Once we load the data into thegeneralization database, whichhappens in the very first modelwe're taking from from your SDEor your best scale database,loading it into thegeneralization schema, there's acount before generalizationmodel that's created, or a logfile that's created, and it justgoes through and tells you howmany different features in eachfeature class, right? So I cansee that there.When I originally did this, Ihad 14,910 features. Then we getthe count after generalizationbut before we load it into theoutput schema. So throughout thegeneralization we have ended upwith 6486 features. So we'vereduced our overall featurecount from 14-9 to.6400, so that's a little lessthan half the features that areremaining. So that just givesyou an idea of the approximateamount of features that arechanging. Maybe this is toomuch. So again, maybe that tellsyou information to help youadjust your your tolerances andthen just as sort of a qualitycontrol we've got after.After we take the data that'sbeen generalized that's in ourgeneralization database, we loadit to our final schema. There issome clipping that happens sothe we don't expect there to bethe exact same number offeatures as there was in theother after Gen. report, but wedo expect there you know thatparticular log file can help youknow.If too many features aredropping out, so those featurecount logs are useful. I don'tuse them too much, but they'rethey're useful when you'retrying to track down performanceissues. We've got a processingtime log as well, so theprocessing time log tells youfor each model how long does ittake in minutes.And then for all of the thememodels, how long did it take?And then overall, how long didit take? So running the Soi datathat that you provided usagainst all of the models tookabout 50 minutes. And so we canthen come back in and look atthis and see, OK, well, wherewas most of the time taken?Well, that one took about 5minutes.Yeah, that's about the slowestone, right. And so, you know,like I said, you can go throughand look at this, figure outwhere your time is being spent.Again, look at tolerances andother things to see if you canfix those those and get it towork a little bit faster. Sothis is just again, reallyhelpful information. It's alsovery helpful I think when you'rerunning large areas of data.Sometimes you run an area that'stoo large that should really besubdivided and you can look atthe processing log and realizethat it took. And I look, I havea database right now that'staking 23 hours to run. And so Ithink if I partition that up anddivide it into four and run fourdifferent ones, the overall timeto run all four of them will besignificantly less.And so that's something that Iwanna test and and theseperformance logs, processingtime logs can help you kind oftrack that down. So all of thesebackup databases, all of theselog files are automaticallycreated just by running the RunGeneralization tool. It's justpart of the framework that we'vebuilt. So again, you know, we'rein a few minutes, we're gonnatalk about the custom modelsthat you've built.If you want to execute thosethrough the Run Generalizationtool, then you get all of thesebackup databases, all of theselog files, just automatically.Which again, is just somethingthat's really useful when you'rein the development mode forgeneralization, but also whenyou're in production, becauseyou have those log files in thebackups if something went wrongthat you can use to track down.So I just find them very useful.A lot of our customers find themvery useful. So we built thesystem so that it can that ithas all of those automaticallybuilt out. So I don't we've gota whole other session on how toramp up into production. Butthere's one other thing that Ido a lot when I am just kind ofdebugging and testing thegeneralization models.Now it's really it's useful toto run the Run generalizationtool in Pro, but it's ageoprocessing tool running inPro that will kind of slow yourprocession down. So if you justwanna sort of run thegeneralization in the backgroundwhile you're doing other things,I also create and use a seriesof bat files. So the bat filesallow us to basically specifyall of.What would be the inputparameters for the tool? Let'sopen one of these. Let's openthat 1. So it's. It's justallows us to specify, you know,where's my.Quickness So sorry this is a lotof information. I so where's mystart database located? Where'sthe AOI? What's the outputfolder that I'm going to writethe results to? Where's mygeneralization rule file? Thenwe then essentially so we justspecify all of the inputparameters and then we call therun generalization Python scriptwith those different parametervalues.And so this allows me to run thegeneralization in thebackground. Remember, it tookabout an hour to run the Soidata. Some of my data sets,again I mentioned run like 20hours. So this just allows meto, you know, specify thesevalues.Normally I just give it a newfolder name every time I run it,so it writes the results to anew folder and then I doubleclick on it. It runs and Pythonis running as a command windowin the background so I don'thave to tie up the resources inPro. I can keep working in Pro.I can even run multiple of thesebat files if I've got enoughprocessing on my power on mymachine so I can run a couple ofsample test data sets at thesame time. So the backgroundrunning it in the background.Using a bat file or just goinginto the command window andrunning it I find very useful.And that's just a capability ofPython. So those are the waysthat you can run yourgeneralization through throughdesktop, right? So as you'rebuilding your yourgeneralization, as you'retesting different cells, the rungeneralization tool.You can use to run everything.You can use the bat file to runeverything and then when you'retrying to debug like a singlemodel, then that's when I wouldrun the model. So instead of youknow I've had customers come inand just run every Model 1 by 1.It's very slow. So I dorecommend just running rungeneralization. Then you havethose backup databases. Then youcan jump in anywhere in theprocess.The only other thing to note, Ithink about run generalization.Let me see if I've got onenormally. Yeah, so one of thethings that happens if if if rungeneralization does fail in themiddle of an execution.So if I take a look, it lookslike it did Structure Splitstructure layer was the last onethat successfully ran. And soone of the things that you'llthere's a little text file herethat says current tool. If I ifI was running it and somethingfailed and I want to pick upfrom that model and run the restof it, what you'll notice is ifyou pass in the same folder.And database name. Oh, actuallywe need the generalize and thesame generalization rules file.Why are you not wanting to work?Try this one more time. No, youdon't want to. OK? Ohh, that'swhy it'll pop up on my otherwindow. Let's try this one moretime. There we go. What you'llnotice is that it automaticallyfills in this continue executionstarting from. So theinformation it remembers whatthe last tool was that that wasrun. So again, if we look atour.Our log files, right? Sotransportation failed and itthere's no messages for createtranslator, so that means thatit was it never ran. It tried torun create translator but itcouldn't run. So it picks up onthe create translator model andit knows that based on this.On this little current tool textfile, so, so again, you know ifsomething goes wrong and youwant to pick up and continuerunning and once you've fixedthe error, of course you can dothat and it knows where to startfrom. So those are all differentways that you can run thegeneralization in Pro outside ofPro. And again just all of thatcapability comes with theframework that we built forgeneralization.Questions. So when you talkabout partitions, they arecartographic partitions, right?The when the tools which we havein the cartography tool set,actually we also tried to usethat but after that we are justin testing phase so we didn'tuse it particularly. But you aretalking about that tool only,right?Not really. So what happens iskind of hard to explain, right?So I do use cartographicpartitions. In some of mymodels, there's only a verysmall set of tools that honorcartographic partitions.Yes. So what tends to happen, solet's think about you're at thepoint where you have all of thedata for India. My guess is thatyou will not be able to use allof India as the source area ofinterest for to run your modelsagainst, right. So I don't thinkthat you're going to have oneexecution of all of India.So what tends to happen is thatwe will create partitions overIndia that are basically eacheach of those partitions becomesthe AOI right now when we'retalking about partitions in thiscontext. Let me see if I canfind it.Where would it be? Where wouldit be? Where would it be maybe?I mean that's kind of does rightso wrong one.Right, so this is an exampleusing cartographic partitions,right? So you can usecartographic partitions andsubdivide your data using it.The cartographic partitionscreates the quad trees. So ifthere's you know in thisparticular area there's not toomany features so we don'tsubdivide it. But then when wego a little further South, we wesubdivide that square and thencontinue subdividing andcontinue subdividing based onthe density of features.That is one way that you canpartition your data forexecution of the of the wholecountry. That's not the onlyway. Let me see. Nope, sorry.I'm looking for a very specificslide because I feel like it,it's helpful. Don't think it'sin there.It should be in there, there itis, right? So what I actuallyfind more often rather thancartographic partitions. Socartographic partitions are goodbecause they balance the densityof features, right? And so?You know, I talked about havinga really large partition thattakes 23 hours to run. If I wasusing cartographic partitions,then hopefully we balance this.So all of these partitions,regardless of size, take let'ssay between 2:00 and 4:00 hoursto run, right, based on, youknow, the density of features.But what I tend to actually findorganizations doing is actuallyusing their map sheets.As the extents that they use topartition their country or orwhatnot. Map sheets are good inthat it allows you to generalizean area and then immediatelycreate a cartographic productfrom it. It ensures that ifthere are certain layers thatyou're not edge matching, thatthey're only split at thetraditional map sheetboundaries.So you don't get a lot ofartificial splits in the middleof a of a particular map sheet.But using the map sheets iswhere you run into the problemwhere certain map sheets willtake an hour to run, or certainpartitions and other ones willtake 20 hours to run. And it'sall based on the fact that onecell has a ton of data and andanother one doesn't. So you canuse map sheets, you can usecartographic partitions, you canuse features.So in this case, they've brokenit out by counties. I don'tnecessarily recommend politicalboundaries, but one of thethings I did with a customer wasthat we used a combination ofcartographic partitions. Butrather than having the straightlines at the boundaries, we usedthe road network. Again, becauseyou're looking at features andyou're thinking about the factthat when you're using each ofthese as a separate processingrun.You may be splitting features,but what we found with with thisparticular customer is that theyhad very few features thatactually crossed the road. Sothere are very few features thatwere actually split when we usethe roads as the externalboundaries. So there's all kindsof ways that you can partitionin terms of doing the overallprocessing for the country.And and it's kind of up to youto choose what works best forfor an organization. So what Ikind of recommend I guess what Iwould what I would recommendstarting is by using the mapsheets and then what you'lldiscover is if there's some thatare running and taking a reallylong time then maybe it's acombination of cartographicpartitions and map sheets butbut you can kind of.Figure that out with thecustomer as you're going alongand testing different data sets,so okay. So that's what I meanwhen I say partitioning thatthat makes sense. So and doesthis model includes parallelparallelization or can we modifythat to to includeparallelization so.Not exactly. So what happens?And I was kind of gonna savethis for another class, but wecan talk about it a little bithere. So the run generalizationscript itself does not doparalyzation, so we're nottaking advantage of multiprocessing or any of that Pythonlibraries.What we've done is that we havebuilt Workflow Manager workflowsthat leverage the RunGeneralization tool, theDissolve Generalized data andthe Update Generalized Datatools, right. So we put theseinto Workflow Manager workflows.So with Workflow Manager, what Ican do is take all of thepartitions for my country andcreate one unit of work for eachpartition.Then there's a system that'sgoing to manage each of thoseunits of work. And So what wehave an association withWorkflow Manager is a is a batfile that can be scheduled as aWindows scheduled task on one ormultiple machines, and you canhave one or multiple processeson each machine. And sobasically I can set up, let'ssay a pool of four machines.With three processes each. SoI've got 12 processes, and I canhave all of them looking at theWorkflow Manager database andpicking up units of work whenthey're available. So we don'tdo true parallelization, but wecan mimic multiprocessing. Wecan mimic parallelization usingWorkflow Manager sort of as thesystem that holds all of thework, and then using thesescheduled tasks.To pull work when it's availableand execute it, if that makessense, yes. So I I mean, I cancover it today in more detail,but I think, I think it's finewhen we call Workflow Manager,we can cover that, OK.Any other questions? And I don'tthink I have any otherquestions. Okay. Are you guysprepared to show what you have?Yes, yes, Okay, yes. I'm gonnago ahead and stop sharing andthen then you can share.Just a second number, just.CBSEBISIISISISISISISICD.Okay.Please let me know when myscreen is visible. Yep, I cansee it. OK, so we actually madea a Python module with a configfile for each of those themes.And just like you did withExcel, we had all the hierarchyinformation, then thetolerances.For each and every team,including the config files. Andthen we've just. Whenever wewant to change the tolerances ordo anything, just update theconfig file and just run thescript with. If we just want to,let's say on one team, thenwe'll just process one teamhere.Our for our approach was likethat yeah so like you as well wewere also facing problem most ofthe problems with the rolenetworks that we used togeneralize. So we were basicallyusing tools that.The thin role network then mergedividend roles and all all ofthe tools present in thecartography dataset then mergedividend roles was somewhatcausing issues So we also triedusing dissolve tool to likemerge the nearby segments andbut finally after that we wereable to meet some of therequirements that that's whyneeded.So let's see just second.It's.Yeah.This and so far, So what we havedone, as with the settlementsand the road network.Sorry, Hadiya Karthika, were youtrying to show us something runright now? Hi. Yes. OK. BecauseI'm just looking at, I mean Idon't know if it's just my side,but it's just staying static atthe change data source. Is thatwhere you are? Ohh, no, no, itis actually. I was showing thegeneralization process that wehad done. OK, I'll we share myscreen. OK.Okay. I'll just reshare myscreen.So I'm just seeing white rightnow on the screen. Still notvisible. OK, how should we callyou? Is it Hadiya or Karthike?Karthike. It's Karthike. OK,great. Asta. Is it visible foryou? Don't know why it's notvisible.Can you restart it? Can you justrestart one second? I've sharedmy screen again OK.Is it visible now? No, I'm stillnot seeing it either. It was thesame for me. Even if it's not, Ijust join the call again andtry. Yeah, yeah.Is my screen visible now? I cansee Pro. Yeah. Any data. Anydata. Yeah, we can see the data.So maybe you can start, becauseyou said you were trying to showus how you run it, Right. Soyeah, maybe you can start there.So yeah, I'm just swiping it.Can you see that? OK, Yeah.So just for now I have onlyswitched on the point layer thatis our trees, then settlementsand the roll layers that we havegeneralized we are.Following similar procedures fortransportation road andtransportation water cows. Sobasically what Soi has is intransportation Rd. they have allthe things Rd. railway net, Rd.railway lines, everything and intransportation water cows theyhave put in the canals and anyartificial channels. So we arealmost following the sameprocedure for both of them. Thenfor hydrology we have adifferent procedure.And settlements, we have apretty simple procedure of whenyou say procedure, can youclarify that a little bit,sorry, When you say procedure,can you clarify that a bit likeyes, yeah.Ohh, actually we had prepared amodule for this that includesthe teams. So with thistransportation team first firstwe converted each multi part tosingle part, then we arecollapsing the role details.Then we are filling theInvisibility and Hierarchy fieldthat you are also mentioning inthe excel that was required forthis thin Rd. network. So in thedocumentation we read that youshould first try with the aftercollapsing Rd. network. You canfirst if you mentioned the CIDtype field so it will populateall the features with value 3which.Which require thin Rd. network.So first we were trying withthat only. So first selectingthat layer with CRD type 0 sothree and running the thin Rd.network on that and if in theconfig user has enabled toremove those thin lines if it isit is set to true then we deletethose features otherwise we'llkeep it then.Then we are running mergedividend roles on where the CIDtype was meant as to by thecollapsed detail role, roledetail. Then finally we arerunning that again and thensimply simplifying andsmoothening. So for all of thiswe are maintaining aconfiguration file well whereyou can change that tolerancesas per your requirement or evenwhen you are testing then.It becomes much simpler to justchange the tolerances, yeah. Soin this class we have for eachof the teams we have preparedfunctions for agriculturalpolygons, storage, thensettlement, hypsography we havestill not completed thenhydropoly lines, hydropolygons,and.This transportation networkworks. Transportation works forboth of them, the transportationground cows and transportationwater cows. For that we areapplying similar similarprocedures. Tolerances can bedifferent based on the conflictthen points. What we are doingis just kind of taking a.Aggregating the points actuallyfirst they have some subtypeswhich are survey trees, so theytold us that not to generalizethose they should be kept keepintact. So we are taking thosenames. They have this field DGand feature names that theydon't want to generalize thatsubtypes, so we'll just removethat from filter the thosefeatures aggregate.The points and then if whateverattributes are required we arefor joining them and then we arebased on a percentage given inthe team. Based on the config weare just taking some randompoints in that aggregatedPolygon and giving that outputoutput as a generalized output.So this is this points when isonly used for trees.Currently, because other pointteams such as the electricitypoles and so they told us thatyou don't need to generalizethose, they should be keptintact for settlement polygons.We are following a procedurewhere it will take a featureclass of feature class andaggregate them into larger andsimplified polygons.So here we are using theaggregate polygons and thensimplify and then again joiningthe attributes with special joinyou see here then it. When weshowed this to Soi they we hadproblems regarding this wholeCR.So we tried using EliminateHoles, Eliminate Part Polygonstool. So I'm currently swipingout the original features andthen the generalized features Isee. So do you have any inputsample on this? Based on whatyou're doing, it looks likeyou're doing most of.Well, aside from the the treepoints it it looks like you'redoing very similar operations towhat we have in our models. Wejust have a lot more okay. So II mean like roads is similarlike the the three mainoperations that we perform onroads are collapse, merge andthin. We have slightly moreadvanced logic in that.We thin features differentlydepending on how urban apartition is versus how rural itis, so we use slightly differenttolerances depending on howdense we expect the roads to be.We.For the built up areas, there'sa couple other things that wedo. Like right now there's stillgaps. You can kind of see wherethe roads were in your resultingkind of built up area settlementarea. One of the things that wedo a lot is a positive bufferfollowed by a negative buffer.Ohh, sorry, a positive buff.Well, yeah, if it's one featureyou don't have to do a dissolve.But what we've we use buffers alot because we find that it canremove some of those extraneousdetails. So it explored thosebuffer buffer things, thatnegative buffer followed by apositive buffer for the fillets.Actually we explored ones thatthing once, but then wediscarded that.Because it was conflicting withroads somewhere I guess. Andactually in the data only theyhave this holes. So we didn'tgeneralize those. Yeah. So yeahand yes. Yeah. And so.If they like the result thenit's fine. I I mean I I wouldprobably do a little bit morefor the built up areas for thesettlements. We would also liketo do more because this whereason the 50,000 scale this seems alittle bit odd. Ohh yeah thething about the way so.The other thing that I question,and and I mean it's not bad, butand you walked through the logicon the vegetation points or thetree points, you're using arandom point generator, whichmeans that every time you rungeneralization trees are gonnabe in a slightly differentplace. And sometimesorganizations don't like that.Okay.So I might consider usingslightly different logic so thatyou rather than generating a setof points, you you thin thepoints and so that way you keepexisting points rather thancreating new ones. But I meanagain, there are so manydifferent ways you can dodifferent types ofgeneralization that.It comes down to a bit ofpreference from the customermore than than anything, andthat was fine for.Yeah.The name for hydrography. Forhydrography as well, we arefollowing a similar procedure totransportation except for 10roads. We are using the 10hydrology lines tool here andthen.Also at the end we just used. Wetried using the snapping becauseand the some data and some partsof the data we saw that somefeatures were like not like snapto if let's say hydrographicpolylines and hydrography if weconvert those hydrographypolygons to center lines, verythin lines, so there were somegaps in between. So we weretrying to snap those but itdidn't.Work out to be as expected, sowe are still trying to figurethat out. Yeah, snapping isalways dangerous to do it in anautomatic fashion. I would tryand track down why those smallgaps are being introduced andsee if you can prevent them frombeing introduced or see ifpotentially you can snap with asmaller tolerance at thebeginning.Actually, we discussed thispossibility that, if actually sois From what we have discussed,they are just going to use thisas a cartographic depiction, notfor any analysis or anything. Sothey told that any if the smalltopological errors areacceptable for them. If they arejust using for depiction, yeah.So one of the things that you'regonna have to think about verycarefully is the multiscalegeneralization. What we find isthat any minor topological errorcan get magnified the further upthe scales that you go. So if.If you're gonna take the let'ssay they're 25K data, produce50K, and use the 50K as thesource for 100K or 250K, thattiny disconnect could causecompletely unexpected results atthe 100 or 250K. So even thoughtheir symbology may be such thatyou don't see the gaps in the50K printed product.It could cause potentialproblems further down the line.That's why we spent a lot oftime trying to make sure that wedon't introduce any topologyerrors in our models. OK,because I think there are sometopological errors in theoriginal data as well. In theSoi data. Yeah. Which, Yeah,which again, always comes downto a.Philosophical conversation withthe customer. Ideally, they willfix the tempological errors intheir source data. We encourageorganizations to do that for acouple of reasons. One, it makestheir source data better. Andtwo, it means that we don't haveto do automated processes to tryand fix the data. There aresome.There are some things like multipart to single part that we canjust run and it's not gonnacause any issues, but trying toconnect features, trying to fillcertain types of gaps and thingslike that while we can do itusing an automated process cangive us unexpected results,right? Because if you you knowif there's if there's.A hydro line, and it's close totwo hydro polygons and you'reusing snap and they're bothwithin the snap tolerance, itcould snap to the wrong one. SoI mean, there's just so manythings that can go wrong whenyou're trying to do data cleanup automatically. That again, wejust encourage the customer toimplement better QC processesand fix the data in the sourceif possible.Yeah. Then for the hydropolygons, we're just taking thebarrier features that should bethere from the conflict andsimilar to other teams, whateverfeatures they don't want us togeneralize. Then first we areeliminating all the Polygonparts that are there.Within the tolerance andsimplifying it. Then againrunning the collapsehydropolygon rule for creatingthose center lines as well ascollapsing the smaller areahydropolygons which are maybeirrelevant at smaller scale. Andthen there are some featuresthat as you mentioned if thereare topological errors then itskips those features this toolsso.From the messages we just takethe Oids of that field then andappend back append those to theoriginal layer. Then we havethis area tolerances that wewere considering with them. Soif their area of the particularfeature is smaller than thedecided area then we are justdeleting it.Then again we are just centerline. The based on the centerline that was generated from itdoesn't meet the minimum lengthexpectations. Then we deletethose lines and then after that.Yeah, just using the thinhydrology lines, then selectingit by where the invisibilitysphere is 1 and deleting it.Then add those lines to thegeneralized hydrographypolylines layers and then afterthat smoothen the collapse,collapse polygons and whatever.Features were not to begeneralized and append appendthose to the final layer. OK soand this also when we areconverting to center lines weare facing multiple issuesbecause at when there's a someriver that.Is narrow, but there's thenafter some point it gets thick.Those center lines are verysmall at some parts. So when wetry if it gets deleted thenetwork, the river network isthen not topologically correct.So we're facing facing issuesthere because at some partsthere will be center line theneven if.The in middle it is a a bitthick bit is a bit larger than.Also it will not get convertedto center lines and it willremain as a Polygon. So we hadmultiple parts where we weregetting small small center linesso that was causing issues forus. Yeah so.I don't typically use that tool.That tool is relatively new. Theone in the Cartography toolbox,Production Mapping has had a a aset of tools for identifyingnarrow polygons and and creatingcenter lines since Arcmap. SoI'm more familiar with those andI use those. And one of thethings that our tool allows youto do so identify narrowpolygons will allow us toclassify features as.So we pass in a length and awidth so we can find the narrowfeatures that are longer than acertain length or shorter than acertain length. We can find thewhite features that are longerthan a certain length andshorter than a certain length.And so our model goes throughand leverages all of thosedifferent categories and doesdifferent things based on.On on them. So something that'slong and narrow will collapse toa center line. Something that'sshort and narrow that'sconnected to two wider ones willbuffer. And so there's a bunchof different operations that wedo based on that so we don't endup with what we call sausagepolygons.Where you've got a thin lineconnected to a wide Polygon, andthen another line, and thenanother wide Polygon. So. Sothere's some stuff that we hadbuilt into the collapse hydromodel to address that. Okay, butit's not an easy challenge, yes.I guess that's all we have. Sothere is no such generalizationprocedures that have beendefined for utilityinfrastructure. Is there anybecause Soi when we discussed itwith Soi for how do how do theywant it. So at finally we werejust like we will not generalizethose utility infrastructure.And the discussion of this, sodo you have any suggestions onthat? So we haven't specificallybuilt any models for for that aspart of COTS. I have worked withsome customers in the pastdepending on what their needsare what?Part of why we haven't builtthem is because one of the mostcommon things that we want to dowith utility lines is whenthere's multiple utility linesrunning parallel, we want todepict it as a single line. Theproblem is, the only tool thatwe have that does anything likethat is Merge Divided Roads.And it works great if there'stwo lines running parallel. Itdoes not work great if there'sthree lines running parallel Andwe end up with with what we calllike braided lines. Becausesometimes, you know, if there'sthere's three, sometimes the thethe right one will merge to thecenter line, sometimes the leftone will, and and you just endup with some weird stuff. Sooverall, we haven't really builtany.Utility models, one of thethings that it doesn't so arethose all utility poles, thedots, yes, those are utilitypoles, right. So one thing thatwe can do and we've done beforeis just run a simplify on thelines and then rather thankeeping all of the poles, whatwe'll do is.Feature vertices to points. Soif we if we thin out the powerpole or sorry, the the lines,the vertices along the linesfeature vertices to points,we'll put a pole any place wherethe angle of the line changes,and so that gives us a slightlycleaner look, especially at someof the smaller scales, so thatat a minimum you could do.But yeah, when it comes down tosending them, it becomeschallenging. I I mean the otherthing, depending on what theywant there, there's logic thatwe've built and I don't thinkit's in any of our models, butbut we have it actually, maybewe have a.Anyway, some of those shortlines that are not connected tothe network, you can remove, wecall that removing orphans. Youcould potentially run removesmall lines on it again toremove some of those short onesthat stick off at angles. Butother than that, like I said, Imean the main thing that peoplewanna do is kind of collapsethese to a single depiction andthat is really difficult is.There were some of this whereyou mentioned this three line 3parallel lines, there were someof them in hydrology as well. Wewere fish facing issue there andlike when three run lines arerunning parallel, it will justtake one central line. So wewere trying to merge and dividethose by subcategories becausewhen we inspected the data, thesubtypes were different forthose features.Discussion to like merge basedon those specifically based onthose subtypes, yeah, I meanthat's something that I do a lotwith merge, right? So mergeallows you to pass in mergeDivided roads allows you to passin sort of an identifier fieldand only features that have thesame value in that field will bemerged together, so.I've got a a script somewherewhere I can pick one or manyfields and I'll come up with aunique set of numbers based onthe combinations in thosefields, just to make sure thatyou know if the subtypes onlymerge them together if thesubtypes match, or if thesubtypes and some otherattribute match. So yeah, that Ido all the time, but it stilldoesn't always prevent wrongfeatures from merging together.Yes, and so actually and.When the bridges and theculverts that how are yougeneralizing those? Do youconvert those bridges intopoints the like culverts orbridges the small features onthe reverse? Because the problemis that we have those culvertsin the same hydrology layer andI think you in your firstlecture you you mentioned that.Those bridges and those featuresare included in the should beincluded in the structure layer,right. So, so where we start iswe do include the bridges in thestructure layer becausetypically a bridge will be witha road or a rail and so if weremove the road or the rail, wewant to remove the bridge aswell, yes, so.So we do include them in thestructures model. We if the lineis shorter than a certainlength, we will convert it to apoint. But we also do work withthe lines, so we may keep someas lines and convert some topolygons. And then if you wantto be very exacting you can alsoinclude bridges and culverts inhydro.Because we have as a topologyfeature, because we also have amodel in hydro that says if thefeature is not within a certaindistance of one of the remaininghydro lines or hydro polygonsthen remove it. So it could bethat the light the road isremoved or it could be that thethe river is removed and ifeither of them is removed thenwe may not need to depict thewell see we still.Yeah, I mean it's kind of up toyou. Normally we just remove thebridge if the road or the railis is removed, yes, Okay, butyou could also remove it if thehydro feature is removed it it'skind of up to you. And then forphysiography, we are againfollowing the same procedure ashydrologic.So what are they capturing inphysio specifically? Is it likeembankments or yes, embankments?OK, I hate embankments. Sorry,we don't have any goodgeneralization for embankmentsespecially. Can you zoom in onthose?Yes, sure. Just I'll just it'sup to me. I'm trying to figureout why the symbol is so thick.Is that is, are those lines justthe symbol itself, is it just aline? No, it's a symbol.Basically it is for like when itis embankment is greater thanequal to 3 meter, less than 3meters or if the embankment ison the both side of the lines.For the symbol, I just switchon, Yeah, OK And see if therelooks OK. Yeah, sorry. Yeah. Iwanted to know if if those thelines that are sort of runningperpendicular to the actualcollected center line, if thatwas part of the symbol or ifthose were actually individuallines because some customerscollect those as individuallines and that becomes even morepainful.Yeah, so embankments are are atricky one. You might be able tojust remove some, some smallones, some short ones, but oftentimes the biggest challenge withembankments is that there's aroad or a rail that runs betweenthem, and it's a symbology issuewhere you can't clearly depictall three features.What One of the things that wedon't do in our generalizationmodels yet, or specificallydon't do, is any of what wewould consider the cartographicgeneralization. So there is atool called Resolve Rd.conflicts that will shift theembankments away from roads orrails.But we don't include them aspart of our models because theyare based on symbology. You haveto apply the symbology beforeyou can run the tools. So that'ssomething that we specificallydo not do, not to say that youcan't do it.So yeah, yeah, it's not beingmuch generalization onphysiography as well becausethere are not many features aswell in physiography andactually they have distributedbased on the sheets. So onlysome some sheets contain thisphysiography features, OK.So this that's all we have.Amber. OK, Amber, just wannacheck do do you wanna see howthey ran the tool that they thatwas created That's I think wesort of missed that when thecomputer hanged for a while. Sodo do you actually have a toolthat you run or do you just runthe Python?We had tool as well as thedirect Python so we just if youwant to run all of the teams wewill just run this whole scriptand we have all the thingsmentioned in the config. What isthe input workspace, outputworkspace then from what scaleto which scale and the all thefeature classes that we havebased on the teaming teams.And if we just if we want justwant to run some of the featuresthen I If we run directly withPython then we'll just commandthose. Or if we want to do it inthe tool we have a drop downthat we use.Are are you showing us that?Yes, that's the second okay. Wecan just see you through thescreen.I just exported the zip fromthat. All the paths are messedup. OK, no worries. So if if thecustomer is going to run thegeneralization, so they will berunning from the tool or they'llbe running from the script forthe customer side. I mean, let'ssay if you give this to them,how are they going to run this?Yeah, so they will be using thetool atpx.And we'll give them the configif they want to adjust anythingthey can adjust in the config.So in the tool they will justhave the option and to whichteams they want to generalizeand input and output workspaceif they want. OK And is the toolrun inside of pro or it'sseparate outside of Pro insideof Pro? If they want to run itoutside, we can just execute thePython script.OK, and if they aren't even wecan provide them with the batchfile as you had done. So we arefamiliar with that process aswell if they want individualteam by team execution.Do you have any questions,Amber, for them? I'm. I'm tryingto think, OK, well well soKathika, Kathika, you're stillexporting the the tool, is itor? No, actually, my art Procrashed through. Oh, OK, becausewe're just seeing a staticimage. Let me screenshot it foryou. Probably can't screenshotit here. But yeah, we're justseeing a static screen rightnow. I think your mouse is alsostatic.I don't know. It's okay. Yeah, Ithink the bandwidth is sometimesa bit hard to control. I wannascreenshot for you what we'reseeing right now, just so thatyou know where we are.So we're seeing that I just putinto the chat. That's the screenthey're looking at right now,just so you know where we are.Yeah, see that's I put things.The screen is updating. I'lljust reshat again.For some reason, whenever I tryto open that tool, out, Pro iscrashing for me. OK yeah, andI'm I'm just seeing a whitescreen that we what happenedbefore while you're sharingthere's just white screen infront of me stuff for you aswell. Yeah, yeah, it's the sameto me. Thank you.The blank stream, let me justyou wanna dial in again or letme just try and switch off theVPN maybe because of that. OK.So it's OK. Go ahead and dothat. Yeah. OK, Yeah.So while you're doing that thenmaybe Amber we can recap likethe next step for them is, is itare you mentioned somethingabout they may go and test themodels that you showed them,right? I I guess the questionthat I'm left with is there aspecific reason why you decidedto go down this approach to usePython to create all of thesegeneralization?Functions, did you, were you notaware of what was available inproduction mapping or did youlook at it and and want to dosomething on your own or or likehow did you arrive at where youare? So basically, yeah, atfirst we are not aware aboutproduction mapping and afterthat we.After a in fact after a littlewhy we came to after researchingand all that we came to knowabout this Production mappingand Defense mapping. But Sartikmentioned that we will have behaving a training with you Sobut till then we had to showsomething to the client. So wehad already started preparingthis and we were. So basicallywe are partner of a Python teamso we are familiar with PythonAnd all these things.So we just started building thison our own okay, okay I'm it'sit's something like you know theapproach to you know take themthrough customization rested byclients. So we were trying toyou know accommodate all of thatand try to you see like whatelse we can go for the and thendefinitely regarding productionwe can improvise more of it.Look, I'm based on this and sothat you get, hey Ashta,unfortunately we can't reallyhear you. Is there a way for youto maybe speak closer to the micor your ear earphones becauseyou're dropping off in and out?Hello. I I really hear her. Idid. Did you get what she'ssaying? Kathike, maybe you canrepeat what she said. I'm nottoo sure if you heard her. Ialso didn't hear her. OK. It'sOK. Yeah. I'm thinking likeKathike. You can actually stopsharing because we can't reallysee anything. It's just a whitescreen on my end. I'm not sureif I'm right. You can seeanything.On your end, you can't seeanything. Yeah, yeah, right. So,so I guess my thoughts right noware I would like you to try themodels and see what you get. Imean if the models that we havecan give you the same or or orslightly better result than whatyou're getting I.I would recommend that you useour models again, kind of goingback to a conversation that wehad, I can't remember how manydays ago in terms of long termmaintenance, right? Yes, if ifyou can use our models or youknow if then, then you don'thave to maintain the Python.I do anticipate based on youknow what we were just talkingabout, like I said, we don'thave anything good forutilities, we don't haveanything good for Physio. Sopotentially that's where youshould spend your time is indeveloping scripts or models toaddress that. If you decide thatyou don't like the models thatwe have, I think that we canwith limited effort integrate.What you're doing into ourframework, if you want so thatwe're executing your Pythonscripts through rungeneralization so that you getall the backup databases so thatyou can leverage the workflowsand and do the parallelprocessing type stuff. Yes, wecould integrate. So one of thethings that we've done withcustomers is built rulespreadsheets where so.Here let me share my screenagain. Oops, so spreadsheet. Soyou know, we talked through allof the tabs and these first12345 tabs are all about how wegeneralize the data. And thenthese three tabs are all abouthow we execute what we've donein the past with with a, a, acustomer is these first five.Tabs were just blank and all weimplemented was the execution,so we built all custom modelsfor them. We didn't reallyleverage any of the rules, butwe we essentially just did theexecution right. So we couldpotentially just call yourPython script using your configfile.Maybe, you know, maybe theconfig file location becomes aparameter, that sort of thing.But then you can use our runGeneralization tool to executeit and then use our workflows toto execute it sort of inparallel. So there there areways that we could integratewhat you're doing so that thatagain you you just sort of getthe framework for free.In some ways that you know if ifif you're only gonna use some ofthe models that we built thenmaybe I don't know I I think Ithink you need to look at whatwe've done and then we need tohave a a conversation about doyou wanna go with our approachdo you wanna go with a customapproach. Do you wanna go withsome sort of hybrid approach.And and I I think all three ofthem are viable paths.It just is gonna depend on howmuch you wanna maintain on onlong term on your end and howhow much you can dial in themodels that we have to meet therequirements of Soi okay thatmight make sense. The hybridapproach makes sense to mebecause I.There will there are much datadifferences between the SY dataand the US. I think the US dataas well. So because currentlybecause SY is having difficultyin mapping the data as well, Iguess because they are not ableto find the suitable subtypes inthe C CTM model that they wantto.Discussing that that as wellokay. So would you like to havea look at the conflict file andthe Python files? Should soshould I send share those withyou if you can. I would love tosee them okay sure, I just askedif we can.I'll just ask Sartak if we canshare them and then I'll shareit with you if we if the clientand the doesn't have any issuesthere. OK. Well, I mean at thispoint I I would hope that you'dbe able to share them becauseyeah, I mean they should it'syou don't need to share the datawith it. So it's really just allPython scripts that youdeveloped. So in theory youshould have the IP for it.And be able to share it. Butthat's yeah, yeah, feel free askthe question. Startalk has alsobeen trying to get me access toyour VPN environment, so I mightbe able to look at it there.Yeah, sure. Okay.So I mean I guess kind offollow-ups from this meeting ifat all possible between our nextmeeting. So when will that be?That'll be Wednesday next week.If you have a chance to look atand try the production mappingmodels that would be great. Andif if you can share the scriptswith me, I might take, I'll takea look at them and I may try andmock up how we could do a hybridapproach.Just so we can kind of see howit might work. OK, Yeah, sure.That would be nice. So.Yeah, I I do agree. Yeah. Yeah.So Kartik a I mean it's a goodpresentation from you as well.So like what Amber mentioned, ifyou could your team could runthose production mapping,generalization model first andsee the results and compare thatwith with what you what, whatthe customer wants or with thecustomer might call 50K data andso forth and see like.Which part really works reallywell for you guys and then whichpart do you think requirescustomization then Yeah, I'm I Ithink it's good to to how do yousay as much as possible to cutany path long paths that youmight not need to do becauseit's already there. It's alreadysomething that maybe Amber hasalready created in the model. Soyeah just just my, my, my inputon that so it's easier for foryou as well and for your teamand and for the customer
    </p>
</html>